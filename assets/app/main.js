!function(){"use strict";var t={822:function(t,e,i){i.r(e)},834:function(t,e,i){i.r(e)},765:function(t,e,i){i.r(e)},245:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0,e.Event=class{constructor(){this.observers=[]}attach(t){"function"==typeof t&&this.observers.push(t)}notify(){for(let t=0;t<this.observers.length;t+=1)this.observers[t]()}}},527:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;const s=i(245),o=i(584);e.Model=class{constructor(t){this.updateModelOptions=(t,e)=>{this.correctOptions=this.optionsCorrection(t),this.staticOptions=Object.assign({},e),this.updateModelOptionsObserver.notify()},this.optionsCorrection=t=>{const e=Object.assign({},t);return Object.keys(t).forEach((i=>{"double"===i||"vertical"===i||"scale"===i||"valuesDisplay"===i?"boolean"!=typeof t[i]&&(e[i]=o.defaultOptions[i]):this.isNumber(t[i])||(e[i]=o.defaultOptions[i])})),t.step<1&&(e.step=1),t.min>=t.max&&(e.max=t.min+1,e.step=1),t.scaleFrequency<1&&(e.scaleFrequency=1),t.scaleFrequency>e.max-e.min+1&&(e.scaleFrequency=e.max-e.min+1),this.correctStaticOptions(e.min,e.max),e.double?(t.from<e.min&&(e.from=e.min),t.from>this.staticOptions.to&&(e.from=this.staticOptions.to)):(e.from=e.min,this.staticOptions.from=e.min),t.to>e.max&&(e.to=e.max),t.to<this.staticOptions.from&&(e.to=this.staticOptions.from),e},this.correctStaticOptions=(t,e)=>{this.staticOptions.from=this.ifUndefined(this.staticOptions.from,"from"),this.staticOptions.to=this.ifUndefined(this.staticOptions.to,"to"),this.staticOptions.from=this.isInDiapason(t,e,this.staticOptions.from),this.staticOptions.to=this.isInDiapason(t,e,this.staticOptions.to)},this.isNumber=t=>"number"==typeof t,this.ifUndefined=(t,e)=>t||this.optionsSec[e],this.isInDiapason=(t,e,i)=>i<t||i>e?t:i,this.updateModelOptionsObserver=new s.Event,this.optionsSec=t,this.staticOptions={from:t.from,to:t.to},this.correctOptions=this.optionsCorrection(t)}get options(){return this.correctOptions}get static(){return this.staticOptions}}},449:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Presenter=void 0,e.Presenter=class{constructor(t,e){this.init=()=>{this.model.updateModelOptionsObserver.attach((()=>{this.updateViewOptions(this.model.options,this.model.static)})),this.view.updateViewOptionsObserver.attach((()=>{this.updateModelOptions(this.view.currentOptions,this.view.modelStatic)}))},this.updateModelOptions=(t,e)=>{this.model.updateModelOptions(t,e)},this.updateViewOptions=(t,e)=>{this.view.updateViewOptions(t,e)},this.view=t,this.model=e,this.init()}}},333:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Bar=void 0,e.Bar=class{constructor(){this.$elem=$('<div class="slider__bar js-slider__bar"></div>'),this.$filler=$('<div class="slider__filler js-slider__filler"></div>'),this.$elem.append(this.$filler)}}},32:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Dot=void 0,e.Dot=class{constructor(){this.$elemFirst=$('<div class="slider__dot_wrapper_first js-slider__dot_wrapper_first">\n                <span class="slider__dot slider__dot_first js-slider__dot_first"></span>\n                <div class="slider__dot_first_value js-slider__dot_first_value"></div>\n            </div>'),this.$elemSecond=$('<div class="slider__dot_wrapper_second js-slider__dot_wrapper_second">\n                <span class="slider__dot slider__dot_second js-slider__dot_second"></span>\n                <div class="slider__dot_second_value js-slider__dot_second_value"></div>\n            </div>'),this.$valueFirst=this.$elemFirst.find(".js-slider__dot_first_value"),this.$valueSecond=this.$elemSecond.find(".js-slider__dot_second_value")}}},852:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Minmax=void 0,e.Minmax=class{constructor(){this.$elemMin=$('<div class="slider__min js-slider__min"></div>'),this.$elemMax=$('<div class="slider__max js-slider__max"></div>')}}},388:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Scale=void 0,e.Scale=class{constructor(){this.createElemsArray=(t,e,i,s)=>{const o=[];if(t>1){o.push($(`\n                <div class="slider__scale_elem js-slider__scale_elem">${e}</div>\n            `));for(let n=1;n<t-1;n++)o.push($(`\n                    <div class="slider__scale_elem js-slider__scale_elem">\n                    ${Math.round((e+n*((i-e)/(t-1)))/s)*s}\n                    </div>\n                `));o.push($(`\n                <div class="slider__scale_elem js-slider__scale_elem">${i}</div>\n            `))}else o.push($(`\n                <div class="slider__scale_elem js-slider__scale_elem">\n                ${Math.round((e+(i-e)/2)/s)*s}\n                </div>\n            `));return o},this.$container=$('<div class="slider__scale_container js-slider__scale_container"></div>'),this.$elem=$('<div class="slider__scale_elem js-slider__scale_elem"></div>')}removeScale(){$(this.$container.children()).remove()}}},95:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0,e.Slider=class{constructor(){this.$elem=$('<div class="slider js-slider"></div>')}}},770:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;const s=i(333),o=i(32),n=i(95),l=i(852),a=i(388),r=i(245);e.View=class{constructor(t,e){this.updateViewOptions=(t,e)=>{this.checkedOptions=Object.assign({},t),this.currentOptions=Object.assign({},t),this.modelStatic=Object.assign({},e),this.render()},this.init=()=>{this.createSlider(),this.render(),this.addEventListeners()},this.createSlider=()=>{this.input.addClass("hidden"),this.slider.$elem.append(this.bar.$elem,this.minmax.$elemMax,this.minmax.$elemMin,this.scale.$container,this.dot.$elemFirst,this.dot.$elemSecond),this.input.before(this.slider.$elem),this.dots=this.slider.$elem.find("span").parent()},this.render=()=>{const{min:t,max:e,vertical:i,double:s}=this.checkedOptions;i?this.addVerticalClasses():this.removeVerticalClasses(),s?(this.dot.$elemFirst.addClass("shown"),this.moveAt(this.dot.$elemFirst[0],"from")):(this.dot.$elemFirst.removeClass("shown"),this.dot.$elemFirst.addClass("hidden")),this.checkedOptions.scale?(this.comfortableScaleDisplay(),this.scale.$container.children().on("click",this.onScaleClick)):this.scale.removeScale(),this.setFillerStyles(),this.minmax.$elemMax.text(e),this.minmax.$elemMin.text(t),this.moveAt(this.dot.$elemSecond[0],"to"),this.comfortableValueDisplay()},this.addEventListeners=()=>{this.dots.on("mousedown",this.onMouseDown),this.bar.$elem.on("click",this.onMouseClick)},this.onMouseDown=t=>{t.preventDefault();const e=e=>{t.currentTarget.classList.contains("js-slider__dot_wrapper_first")?(this.updateCurrentOptions(this.getValueOfDot(e),"from"),this.moveAt(this.dots[0],"from")):(this.updateCurrentOptions(this.getValueOfDot(e),"to"),this.moveAt(this.dots[1],"to")),this.comfortableValueDisplay(),this.setFillerStyles(),this.onMouseUp()},i=()=>{$(document).off("mousemove",e),$(document).off("mouseup",i),this.onMouseUp()};$(document).on("mousemove",e),$(document).on("mouseup",i)},this.onMouseClick=t=>{this.checkedOptions.double&&Math.abs(this.getValueOfDot(t)-this.currentOptions.from)<=Math.abs(this.getValueOfDot(t)-this.currentOptions.to)?(this.updateCurrentOptions(this.getValueOfDot(t),"from"),this.moveAt(this.dots[0],"from")):(this.updateCurrentOptions(this.getValueOfDot(t),"to"),this.moveAt(this.dots[1],"to")),this.comfortableValueDisplay(),this.setFillerStyles()},this.onMouseUp=()=>{this.modelStatic.from=this.checkedOptions.from,this.modelStatic.to=this.checkedOptions.to},this.onScaleClick=t=>{const{left:e,top:i}=$(t.currentTarget).position(),s=Number($(t.currentTarget).width()),o=Number($(t.currentTarget).height()),n=this.checkedOptions.vertical?{x:e,y:i+o/2}:{x:e+s/2,y:i},l=this.calcValue(n);this.updateCurrentOptions(l,"to"),this.moveAt(this.dots[1],"to"),this.comfortableValueDisplay(),this.setFillerStyles()},this.getValueOfDot=t=>{const e={x:t.pageX-this.slider.$elem.position().left,y:t.pageY-this.slider.$elem.position().top};return this.calcValue(e)},this.updateCurrentOptions=(t,e)=>{this.currentOptions[e]=t,this.updateViewOptionsObserver.notify()},this.moveAt=(t,e)=>{this.checkedOptions.vertical?(t.style.top=`${this.calcPosition(this.checkedOptions[e])}px`,t.style.left="0px"):(t.style.left=`${this.calcPosition(this.checkedOptions[e])}px`,t.style.top="0px")},this.comfortableValueDisplay=()=>{const{max:t,from:e,to:i,vertical:s}=this.checkedOptions,o=this.calcPosition(e),n=this.calcPosition(i),l=this.calcPosition(t);this.toggleMinMaxHidden(l-n,"$elemMax"),this.toggleMinMaxHidden(n,"$elemMin"),this.dot.$valueSecond.text(i),this.dot.$valueFirst.text(e),this.checkedOptions.double&&(n-o<40?(this.dot.$valueFirst.addClass("hidden").removeClass("shown"),this.dot.$valueSecond.text(`${e} - ${i}`),s||this.dot.$valueSecond.css({left:`calc(50% - ${(n-o)/2}px)`})):(this.dot.$valueFirst.removeClass("hidden"),s||this.dot.$valueSecond.css("left","50%")),this.toggleMinMaxHidden(o,"$elemMin")),this.checkedOptions.valuesDisplay?(this.dot.$valueSecond.removeClass("hidden"),this.dot.$valueFirst.removeClass("hidden"),this.dot.$valueSecond.addClass("shown"),this.dot.$valueFirst.addClass("shown")):(this.dot.$valueSecond.removeClass("shown"),this.dot.$valueFirst.removeClass("shown"),this.dot.$valueSecond.addClass("hidden"),this.dot.$valueFirst.addClass("hidden"))},this.setFillerStyles=()=>{const t=Number(this.dot.$elemSecond.outerWidth()),{vertical:e}=this.checkedOptions,i=this.calcPosition(this.checkedOptions.from),s=this.calcPosition(this.checkedOptions.to);this.bar.$filler.css({top:`${e?i+t/2:0}px`,left:`${e?0:i+t/2}px`,height:(e?s-i:20)+"px",width:(e?20:s-i)+"px"})},this.appendScaleElements=()=>{const t=this.checkedOptions.scaleFrequency,{min:e,max:i,step:s,vertical:o}=this.checkedOptions;this.scale.$container.append(this.scale.createElemsArray(t,e,i,s));const n=this.scale.$container.find("div");t>1?(o=>{n.filter(":nth-child(1)").css(o,this.calcPosition(e,n.filter(":nth-child(1)")));for(let l=1;l<t-1;l++)n.filter(`:nth-child(${l+1})`).css(o,this.calcPosition(Math.round((e+l*((i-e)/(t-1)))/s)*s,n.filter(`:nth-child(${l+1})`)));n.filter(`:nth-child(${t})`).css(o,this.calcPosition(i,n.filter(`:nth-child(${t})`)))})(o?"top":"left"):o?n[0].style.top=`calc(50% - ${n[0].clientHeight/2}px)`:n[0].style.left=`calc(50% - ${n[0].clientWidth/2}px)`},this.comfortableScaleDisplay=()=>{if(this.scale.removeScale(),this.appendScaleElements(),!this.checkedOptions.vertical){const t=this.scale.$container.children();let e=0;const i=Number(this.slider.$elem.outerWidth());for(let s=0;s<t.length-1;s++)e+=t[s].offsetWidth,e>i-100&&(this.checkedOptions.scaleFrequency-=1);this.scale.removeScale(),this.appendScaleElements();for(let t=0;t<this.scale.$container.find("div").length-1;t++){const e=this.scale.$container.find("div");Math.abs(e[t].offsetLeft-e[t+1].offsetLeft)<30&&(e[t+1].remove(),this.checkedOptions.scaleFrequency-=1)}}},this.addVerticalClasses=()=>{this.slider.$elem.addClass("slider_vertical"),this.bar.$elem.addClass("slider__bar_vertical"),this.minmax.$elemMin.addClass("slider__min_vertical"),this.minmax.$elemMax.addClass("slider__max_vertical"),this.scale.$container.addClass("slider__scale_container_vertical")},this.removeVerticalClasses=()=>{this.slider.$elem.removeClass("slider_vertical"),this.bar.$elem.removeClass("slider__bar_vertical"),this.minmax.$elemMin.removeClass("slider__min_vertical"),this.minmax.$elemMax.removeClass("slider__max_vertical"),this.scale.$container.removeClass("slider__scale_container_vertical")},this.toggleMinMaxHidden=(t,e)=>t<50?this.minmax[e].addClass("hidden"):this.minmax[e].removeClass("hidden"),this.calcValue=t=>{const e=this.checkedOptions.vertical?t.y/Number(this.slider.$elem.outerHeight()):t.x/Number(this.slider.$elem.outerWidth());return Math.round((e*(this.checkedOptions.max-this.checkedOptions.min)+this.checkedOptions.min)/this.checkedOptions.step)*this.checkedOptions.step},this.calcPosition=(t,e=this.dot.$elemSecond)=>{const i=Number(this.slider.$elem.outerHeight()),s=Number(this.slider.$elem.outerWidth()),o=this.checkedOptions.vertical?i:s,n=this.checkedOptions.vertical?Number(e.outerHeight()):Number(e.outerWidth());return(t-this.checkedOptions.min)/(this.checkedOptions.max-this.checkedOptions.min)*o-n/2},this.input=t,this.checkedOptions=e,this.currentOptions=Object.assign({},e),this.updateViewOptionsObserver=new r.Event,this.slider=new n.Slider,this.bar=new s.Bar,this.dot=new o.Dot,this.minmax=new l.Minmax,this.scale=new a.Scale,this.modelStatic={from:this.checkedOptions.from,to:this.checkedOptions.to},this.init()}}},584:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0,e.defaultOptions={min:0,max:1e4,from:3e3,to:7e3,step:1,double:!1,vertical:!1,scale:!1,scaleFrequency:5,valuesDisplay:!0}},916:function(t,e,i){const s=i(578);$(".js-querySlider#first-slider").slider({min:0,max:4e3,vertical:!1,double:!1,from:300,to:700,step:1,scale:!1,scaleFrequency:9,valuesDisplay:!1}),$(".js-querySlider#second-slider").slider({min:-1e3,max:6600,vertical:!1,double:!0,from:300,to:3200,step:17,scale:!1,scaleFrequency:9,valuesDisplay:!0}),$(".js-querySlider#third-slider").slider(),$(".js-querySlider").each((function(){new s.Panel($(this))}))},241:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i(834)},578:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Panel=void 0,i(241),i(765),e.Panel=class{constructor(t){this.initInputs=()=>{const{panel:t}=this;this.inputMin=t.find("input.js-panel__input_min"),this.inputMax=t.find("input.js-panel__input_max"),this.inputFrom=t.find("input.js-panel__input_from"),this.inputTo=t.find("input.js-panel__input_to"),this.inputStep=t.find("input.js-panel__input_step"),this.inputValuesDisplay=t.find("input.js-panel__input_valuesDisplay"),this.inputVertical=t.find("input.js-panel__input_vertical"),this.inputDouble=t.find("input.js-panel__input_double"),this.inputScale=t.find("input.js-panel__input_scale"),this.inputScaleFrequency=t.find("input.js-panel__input_scaleFrequency"),this.inputNumber=t.find('input.panel__input[type="number"]'),this.inputCheckbox=t.find('input.panel__checkbox[type="checkbox"]')},this.fillInputs=()=>{const{min:t,max:e,step:i,from:s,to:o,vertical:n,double:l,scale:a,scaleFrequency:r,valuesDisplay:c}=this.app.view.checkedOptions;this.inputMin.val(t),this.inputMax.val(e),this.inputFrom.val(s),this.inputTo.val(o),this.inputStep.val(i),this.inputValuesDisplay.prop("checked",c),this.inputVertical.prop("checked",n),this.inputDouble.prop("checked",l),this.inputScale.prop("checked",a),this.inputScaleFrequency.val(r)},this.addEventListeners=()=>{this.inputNumber.on("blur",this.onBlur),this.inputNumber.on("keyup",this.onKeyUp),this.inputCheckbox.on("change",this.onCheck),this.sliderDots.on("mousedown",this.onMouseDown)},this.onMouseDown=()=>{const t=()=>{this.inputFrom.val(this.app.view.checkedOptions.from),this.inputTo.val(this.app.view.checkedOptions.to)},e=()=>{$(document).off("mousemove",t),$(document).off("mouseup",e)};$(document).on("mousemove",t),$(document).on("mouseup",e)},this.onBlur=t=>{const e=String($(t.target).attr("data-option")),i=Number($(t.target).val());this.appUpdate({[e]:i}),this.fillInputs()},this.onKeyUp=t=>{const e=String($(t.target).attr("data-option")),i=Number($(t.target).val());"Enter"===t.key&&(this.appUpdate({[e]:i}),this.fillInputs())},this.onCheck=t=>{const e=String($(t.target).attr("data-option")),i=Boolean($(t.target).prop("checked"));"double"===e?this.appUpdate({double:i,from:Number(this.inputFrom.val())}):this.appUpdate({[e]:i})},this.appUpdate=t=>{const e=$.extend(this.app.view.checkedOptions,t);this.app.updateModelOptions(e,this.app.view.modelStatic)},this.app=t.data("slider"),this.slider=t.prev(),this.sliderDots=this.slider.find("span").parent(),this.panel=t.parent().next(),this.initInputs(),this.fillInputs(),this.addEventListeners()}}},607:function(t,e,i){const s=i(527),o=i(449),n=i(770),l=i(584);i(822),$.fn.slider=function(t){const e=$.extend(Object.assign({},l.defaultOptions),t),i=new s.Model(e),a=new n.View(this,i.options),r=new o.Presenter(a,i);return $(this).data("slider",r),r}}},e={};function i(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(607),i(916),i(578)}();